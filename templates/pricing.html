{% extends "base.html" %}

{% block title %}Pricing | ColorfulMe{% endblock %}
{% block description %}Freemium credits plus Starter, Pro, Studio, and Lifetime plans for ColorfulMe.{% endblock %}

{% block content %}
<section class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10 md:py-16">
  <div class="text-center max-w-3xl mx-auto">
    <h1 class="font-display text-4xl md:text-5xl font-bold">Simple Pricing, Built To Scale</h1>
    <p class="mt-4 text-slate-600 text-lg">Start free with monthly credits, then unlock higher limits and throughput as you grow.</p>
  </div>

  <div class="mt-10 grid md:grid-cols-2 xl:grid-cols-5 gap-5">
    {% for plan in plans %}
    <article class="glass rounded-2xl border border-blue-100 p-5 flex flex-col {% if plan.code == 'pro' %}ring-2 ring-blue-300{% endif %}">
      <p class="text-xs uppercase tracking-wide text-slate-500">{{ plan.interval }}</p>
      <h2 class="mt-2 font-display text-2xl font-bold text-slate-900">{{ plan.name }}</h2>
      <p class="mt-2 text-sm text-slate-600">{{ plan.monthly_credits }} credits / cycle</p>
      <p class="mt-4 font-display text-3xl font-bold text-blue-700">
        {% if plan.price_cents == 0 %}
        $0
        {% else %}
        ${{ '%.2f'|format(plan.price_cents / 100) }}
        {% endif %}
      </p>

      <ul class="mt-4 space-y-2 text-sm text-slate-600">
        <li>PNG + PDF exports</li>
        <li>Strict family-safe moderation</li>
        <li>API-ready backend</li>
      </ul>

      <div class="mt-5">
        {% if plan.code == 'free' %}
        <a href="/create" class="block text-center px-4 py-2 rounded-xl btn-secondary font-semibold">Start Free</a>
        {% else %}
        <form method="POST" action="/create-checkout-session">
          <input type="hidden" name="plan_code" value="{{ plan.code }}">
          <button type="submit" class="w-full px-4 py-2 rounded-xl btn-primary font-semibold">Choose {{ plan.name }}</button>
        </form>
        {% endif %}
      </div>
    </article>
    {% endfor %}
  </div>

  <div class="mt-10 glass rounded-2xl border border-blue-100 p-6 text-sm text-slate-600">
    <h3 class="font-display text-xl font-bold text-slate-900">Credit Costs</h3>
    <div class="mt-3 grid sm:grid-cols-2 lg:grid-cols-4 gap-3">
      <div class="rounded-xl border border-slate-200 bg-white p-3">Text generation: <strong>1</strong></div>
      <div class="rounded-xl border border-slate-200 bg-white p-3">Photo conversion: <strong>2</strong></div>
      <div class="rounded-xl border border-slate-200 bg-white p-3">Recolor transform: <strong>1</strong></div>
      <div class="rounded-xl border border-slate-200 bg-white p-3">PDF export: <strong>0</strong></div>
    </div>
  </div>
</section>
{% endblock %}
